# 几个注意事项

1. 这种题, 建议上来就使用 `double` 作为保险措施
2. `unsigned long double` 为无效组合
3. `<iomanip>` 是使用 `setprecision` 需要包含之物
4. `std::fixed` 用于禁止使用科学计数法输出

# 代码
```cpp
#include <iostream>
#include <iomanip>
int main() {
    long double n, result1, result2;
    std::cin >> n;
    if (n < 4) {
        std::cout << 0 << std::endl;  // 如果顶点数小于4，无法形成交点
    } else {
        // 计算对角线数
        result1 = n * (n - 3) / 2;
        // 计算交点数（即从n个顶点中选择4个顶点的组合数）
        result2 = (n * (n - 1) * (n - 2) * (n - 3)) / 24;
        std::cout << std::fixed <<  std::setprecision(0) << result2 << std::endl;  // 输出交点数量
    }

    return 0;
}
```

# 拓展: 多边形对角线与交点数量的计算
在你提供的代码中，计算多边形对角线的数量与计算交点的数量是相关的。这两个问题的表达式是如何得出的，涉及到一些几何学的基本概念。

我们首先分析计算 **对角线的数量** 和 **交点的数量** 这两个问题的背景。

### 1. **对角线的数量**

对于一个有 nn 个顶点的凸多边形，其对角线的数量可以通过以下公式计算：

对角线数量=n(n−3)2\text{对角线数量} = \frac{n(n-3)}{2}

这个公式是如何来的呢？

- 每个顶点都可以和其他 n−1n-1 个顶点相连，其中包括相邻的两个顶点和该点本身。所以，对于每个顶点，能够画的线段数是 n−1n-1。
- 然而，相邻的两个顶点之间并不会形成对角线，只是多边形的边。所以需要从所有的连接线段中去掉多边形的边。
- 多边形有 nn 条边，每个顶点与相邻两个顶点的连线不算对角线，因此我们需要从总的连线数中减去这 nn 条边。
- 于是，得到的对角线总数是：$\frac{n(n-1)}{2} - n = \frac{n(n-3)}{2}$。

#### 解释：

- $\frac{n(n-1)}{2}$ 是从 nn 个顶点中选择两个点形成所有可能的连线的数目，计算公式为组合数 C(n,2)C(n, 2)。
- 减去多边形的边数 nn，就得到了对角线的数量。

### 2. **交点的数量**

对于一个 nn-边的多边形，假设每一条对角线都与其他对角线相交。交点的数量是根据对角线之间的交点关系来计算的。

#### 如何计算交点的数量？

交点的数量与每两条对角线相交有关。对于 nn-边的多边形，假设它是凸多边形，且对角线没有三条共点的情况。根据组合数学的原理，任何两条对角线都可能在一个唯一的点上相交（当它们交于多边形内部时）。

- 计算每两条对角线的交点数量：选择四个顶点来画出两条对角线，这四个顶点可以形成一对交点。对于每四个顶点，都会有一对交点。
- 从 nn 个顶点中选取四个顶点的方法有 C(n,4)C(n, 4) 种，这就是对角线交点的数量。

#### 公式：

$$\text{交点数量} = C(n, 4) = \frac{n(n-1)(n-2)(n-3)}{24}$$

### 3. **综合分析**

根据你给的代码：

```cpp
result1 = n * (n - 3) / 2;  // 对角线数量
result2 = (result1 - 3) * (result1 - 3 - 1) / 2;  // 交点数量
```

- **result1** 计算的是多边形的对角线数量，公式是 n(n−3)2\frac{n(n-3)}{2}。
- **result2** 是计算交点的数量，但这里的公式稍微不同，它使用了对角线数量（即 `result1`）来进一步计算交点。这是因为，交点的数量是与对角线的组合有关的，而不是单纯的顶点数。因此，`result1` 代表的是对角线的数量，在这个基础上，减去3之后再计算组合数，应该是为了计算从对角线中选择4条并且计算它们交点的数量。

### 4. **总结**

- **对角线数量**：公式 n(n−3)2\frac{n(n-3)}{2} 是通过从所有可能的线段中排除多边形的边得到的。
- **交点数量**：交点的数量是通过组合学中的 C(n,4)C(n, 4) 公式得到的，表示从 nn 个顶点中选择 4 个顶点形成两条对角线，并假设这些对角线在多边形内相交。

通过这个分析，你的代码表达式是基于组合数和几何关系推导出来的，虽然中间有一些对角线数量的衍生过程，但整体思路是从组合学和几何学原理中得来的。